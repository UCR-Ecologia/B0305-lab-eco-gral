---
subtitle: "B0305 -- Lab Eco Gral<br><a href='https://<https://ucr-ecologia.github.io/B0305-lab-eco-gral/>' target='_blank'>https://ucr-ecologia.github.io/B0305-lab-eco-gral/</a>"
title: "<font style='font-size:1em;'> Introducci√≥n a R</font>"
author: Prof. G. Avalos y T. Nakov
institute: 'Escuela de Biologia, Universidad de Costa Rica'
date: 01 August 2025
date-meta: 01 August 2025
date-format: "DD MMM YYYY"
toc: true
toc-depth: 1
toc-title: "Que vamos a ver:"
center-title-slide: false
from: markdown+emoji
format:
  revealjs: 
    fig-responsive: true
    theme: simple
    slide-number: true
    mouse-wheel: false
    preview-links: auto
    incremental: true
    logo: /figures/icons/course_favicon.png
    css: /css/styles_slides.css
    footer: 'B0305 -- Lab Eco Gral'
execute:
  echo: true
  cache: true
---

# R. Que? Por que?

## ¬øQu√© es R? {.smaller}
- Lenguaje de programaci√≥n estad√≠stica **gratuito y de c√≥digo abierto**
- Desarrollado espec√≠ficamente para an√°lisis de datos y estad√≠stica
- Amplia comunidad cient√≠fica y de desarrolladores
- Miles de paquetes especializados disponibles

## ¬øPor qu√© R? {.smaller}

- Excelentes capacidades de procesamiento de datos
- Excelentes capacidades de modelado estad√≠stico
- Excelentes gr√°ficos, visualizaciones hermosas
- Excelente soporte para programaci√≥n reproducible
- Excelente soporte para visualizaci√≥n interactiva de datos

- Ampliamente usado en Ecolog√≠a, Evoluci√≥n, Bioinform√°tica, ...
- Especialmente √∫til para an√°lisis ecol√≥gicos y evolutivos especializados
- Muchas extensiones escritas por cient√≠ficos y desarrolladores de m√©todos espec√≠ficamente para problemas biol√≥gicos

## ¬øQu√© es RStudio? {.smaller}
- **Entorno de desarrollo integrado (IDE)** para R
- Interfaz gr√°fica amigable para usar R
- Facilita la escritura de c√≥digo, visualizaci√≥n de datos y manejo de proyectos
- **Gratuito** para uso personal y acad√©mico

# Installation

## Instalaci√≥n de R {.smaller}

1. **Visitar** [**https://www.r-project.org/**](https://www.r-project.org/)
2. **Hacer clic** en "Download R" ‚Üí "CRAN"
3. **Seleccionar** un mirror (ej: "Universidad de Costa Rica")
4. **Elegir** tu sistema operativo:
   - **Windows**: "Download R for Windows" ‚Üí "base" ‚Üí "Download R 4.x.x for Windows"
   - **macOS**: "Download R for macOS" ‚Üí seleccionar la versi√≥n apropiada
   - **Linux**: seguir instrucciones para tu distribuci√≥n
5. **Ejecutar** el instalador descargado y seguir las instrucciones

## Instalaci√≥n de RStudio {.smaller}

1. **Primero instalar R** (paso anterior)
2. **Visitar** [**https://posit.co/downloads/**](https://posit.co/downloads/)
3. **Scroll down** hasta "RStudio Desktop"
4. **Hacer clic** en "Download RStudio Desktop"
5. **Seleccionar** la versi√≥n gratuita: "RStudio Desktop Open Source License"
6. **Elegir** tu sistema operativo y descargar
7. **Ejecutar** el instalador y seguir las instrucciones

::: {.fragment}
::: {.callout-warning title = "Importante"}
- **R debe estar instalado ANTES que RStudio**
- RStudio es solo la interfaz; R es el motor
:::
:::

## Verificaci√≥n de la instalaci√≥n {.smaller}

::: {.columns}
::: {.column}
1. **Abrir RStudio** (no R directamente)
2. **En la consola** (panel inferior izquierdo), escribir:
3. **Si aparecen los resultados**, ¬°la instalaci√≥n fue exitosa! üéâ
:::

::: {.column}
::: {.fragment}
```{r}
# Verificar versi√≥n de R
R.version.string

# Hacer un c√°lculo simple
2 + 2

# Crear un vector simple
mi_vector <- c(1, 2, 3, 4, 5)
mi_vector
```
:::
:::
::: 

## Recursos adicionales:
- **Manual oficial**: [https://cran.r-project.org/doc/manuals/r-release/R-intro.html](https://cran.r-project.org/doc/manuals/r-release/R-intro.html)
- **RStudio Cheatsheets**: [https://posit.co/resources/cheatsheets/](https://posit.co/resources/cheatsheets/)

# Entorno de R

## ¬øQu√© es renv? {.smaller}

::: {.fragment}
#### Problema com√∫n:
- "Mi c√≥digo funciona en mi computadora, pero no en la tuya" üòï
- Diferentes versiones de paquetes
- Incompatibilidades entre estudiantes
- Dificultad para reproducir an√°lisis
:::

::: {.fragment}
#### Soluci√≥n: renv
- **Gesti√≥n de entornos** reproducibles en R
- **Congela** versiones espec√≠ficas de paquetes
- **Garantiza** que todos tengan el mismo entorno
- **Facilita** la colaboraci√≥n y ense√±anza
:::

## Configuraci√≥n del curso {.smaller}

### Paquetes incluidos para ecolog√≠a:
::: {.fragment}
**üìä An√°lisis y Visualizaci√≥n:**  
- `readr/readxl` - Importar datos   
- `dplyr` - Transformaci√≥n de datos  
- `ggplot2` - Gr√°ficos hermosos  
:::

::: {.fragment}
**üî¨ An√°lisis ecol√≥gico:**  
- `vegan` - An√°lisis de comunidades
:::

::: {.fragment}
**üìù Reportes:**  
- `rmarkdown` - Documentos reproducibles  
- `quarto` - Reportes modernos  
- `kableExtra` - Tablas bonitas  
:::


## Instalaci√≥n y uso {.smaller}

::: {.fragment}
#### Paso 1: Instalar renv
```{r}
#| eval: false
install.packages("renv")
```
:::

::: {.fragment}
#### Paso 2: Descargar archivo de configuraci√≥n
- **Descargar** el archivo `renv.lock` desde: [**Archivo renv.lock del curso**](/renv.lock)
- **Guardar** en tu directorio de trabajo de R
:::

::: {.fragment}
#### Paso 3: Activar el entorno del curso
```{r}
#| eval: false
# En el directorio donde guardaste renv.lock:
renv::restore()
```
:::
::: {.fragment}
#### Paso 4: Verificar que funciona
```{r}
#| eval: false
library(tidyverse)
library(vegan)
library(ggplot2)
# Si no hay errores, ¬°todo listo! üéâ
```
:::

::: {.fragment}
### ‚ö†Ô∏è Solo necesitas hacer esto UNA VEZ al inicio del curso
:::


# Ejercicios

## Ejercicio 1: Primeros pasos con R {.smaller}

### Operaciones b√°sicas y variables

```{r}
#| eval: false
# 1. Realiza las siguientes operaciones matem√°ticas:
5 + 3
10 - 4
6 * 7
20 / 4
2^3

# 2. Crea variables y √∫salas:
mi_edad <- 25
tu_edad <- 30
edad_promedio <- (mi_edad + tu_edad) / 2
edad_promedio

# 3. Crea un vector con las edades de tu grupo:
edades_grupo <- c(22, 25, 19, 28, 21)
mean(edades_grupo)  # promedio
```

---

## Ejercicio 2: Trabajando con vectores {.smaller}

### Manipulaci√≥n de datos b√°sicos

```{r}
#| eval: false
# 1. Crea vectores de datos ecol√≥gicos:
especies <- c("Quercus", "Pinus", "Cecropia", "Ficus", "Inga")
alturas <- c(15.2, 22.8, 8.5, 18.3, 12.1)  # metros
diametros <- c(45, 67, 23, 52, 38)  # cm

# 2. Explora los datos:
length(especies)  # n√∫mero de especies
max(alturas)      # altura m√°xima
min(diametros)    # di√°metro m√≠nimo
mean(alturas)     # altura promedio

# 3. Filtra datos:
especies[alturas > 15]  # especies con altura > 15m
alturas[diametros < 50] # alturas con di√°metro < 50cm
```

---

## Ejercicio 3: Data frames y an√°lisis {.smaller}

### Creando y analizando conjuntos de datos

```{r}
#| eval: false  
# 1. Crea un data frame:
arboles <- data.frame(
  especie = c("Quercus", "Pinus", "Cecropia", "Ficus", "Inga"),
  altura = c(15.2, 22.8, 8.5, 18.3, 12.1),
  diametro = c(45, 67, 23, 52, 38),
  sitio = c("bosque", "bosque", "claro", "ribera", "claro")
)

# 2. Explora el data frame:
head(arboles)          # primeras filas
str(arboles)           # estructura
summary(arboles)       # resumen estad√≠stico

# 3. An√°lisis por sitio:
mean(arboles$altura[arboles$sitio == "bosque"])
table(arboles$sitio)   # frecuencia por sitio
```

---

## Ejercicio 4: Visualizaci√≥n b√°sica {.smaller}

### Gr√°ficos simples para datos ecol√≥gicos

```{r}
#| eval: false
# Usando los datos del ejercicio anterior:

# 1. Gr√°fico de dispersi√≥n:
plot(arboles$diametro, arboles$altura,
     xlab = "Di√°metro (cm)", 
     ylab = "Altura (m)",
     main = "Relaci√≥n Di√°metro-Altura")

# 2. Boxplot por sitio:
boxplot(altura ~ sitio, data = arboles,
        xlab = "Tipo de sitio",
        ylab = "Altura (m)",
        main = "Altura por tipo de sitio")

# 3. Histograma:
hist(arboles$altura, 
     xlab = "Altura (m)", 
     main = "Distribuci√≥n de alturas")
```

---

## Ejercicio 5: Configuraci√≥n del entorno {.smaller}

### Pr√°ctica con renv y paquetes del curso

```{r}
#| eval: false
# 1. Configurar renv (solo la primera vez):
install.packages("renv")
renv::restore()  # instalar paquetes del curso

# 2. Cargar paquetes principales:
library(tidyverse)
library(vegan)

# 3. Probar con datos de ejemplo:
data(penguins, package = "palmerpenguins")
head(penguins)

# 4. Crear un gr√°fico con ggplot2:
ggplot(penguins, aes(x = bill_length_mm, y = bill_depth_mm)) +
  geom_point(aes(color = species)) +
  labs(title = "Dimensiones del pico en ping√ºinos",
       x = "Longitud del pico (mm)",
       y = "Profundidad del pico (mm)")

# 5. Verificar que vegan funciona:
library(vegan)
data(dune)
diversity(dune, index = "shannon")
```




# Bibliografia {.smaller}

Manual oficial: https://cran.r-project.org/doc/manuals/r-release/R-intro.html

RStudio Cheatsheets:https://posit.co/resources/cheatsheets/

Gromelund, G. 2014. Hands on Programming with R. https://rstudio-education.github.io/hopr/index.html